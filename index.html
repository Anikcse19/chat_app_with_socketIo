<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Chat App</title>
  </head>
  <body>
    <div class="bg-blue-900 w-[50%] mx-auto mt-5 p-5">
      <div>
        <ul id="msgHist" class="text-white"></ul>
      </div>
    </div>
    <div class="bg-blue-900 w-[50%] mx-auto mt-5 p-5 flex justify-center">
      <div>
        <input
          id="msg"
          class="outline-none border-3 border-red-700 rounded-sm px-2 py-1"
          type="text"
        />
        <button
          onclick="sendMsg()"
          class="bg-blue-600 text-white px-3 py-1 rounded-sm font-bolder border"
        >
          Send
        </button>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      let socket = io();

      function sendMsg() {
        const msg = document.getElementById("msg").value;
        socket.emit("chat", msg);
        document.getElementById("msg").value = "";
      }

      socket.on("chat_transfer", (msg) => {
        let listItem = document.createElement("li");

        listItem.textContent = msg;

        let msgHist = document.getElementById("msgHist");
        msgHist.appendChild(listItem);
      });
    </script>
  </body>
</html>
